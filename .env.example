# Environment variables template
# Copy this file to .env and fill in the actual values

# Railway MySQL 연결 문자열
# 로컬 개발: Railway 대시보드에서 DATABASE_URL 복사
# Railway 배포: 자동으로 설정됨 (MySQL 서비스가 같은 프로젝트에 있을 경우)
DATABASE_URL="mysql://root:password@host:port/database"

# JWT 설정
JWT_ACCESS_SECRET="your-access-token-secret-key"
JWT_REFRESH_SECRET="your-refresh-token-secret-key"
JWT_ACCESS_EXPIRATION="15m"
JWT_REFRESH_EXPIRATION="7d"

# 이메일 설정 (Nodemailer - Gmail SMTP)
# Gmail 계정 설정:
# 1. Google 계정 관리 > 보안 > 2단계 인증 활성화
# 2. 앱 비밀번호 생성: https://myaccount.google.com/apppasswords
# 3. 생성된 16자리 앱 비밀번호를 SMTP_PASSWORD에 입력
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="Family Planner <your-email@gmail.com>"

# 애플리케이션 설정
# 환경 구분: development (개발), production (프로덕션)
NODE_ENV="development"
# OAuth 콜백 리다이렉트 URL (Universal Links/App Links 지원)
# 로컬: http://localhost:3001
# 프로덕션: https://yourdomain.com (HTTPS 필수!)
# iOS/Android 앱에서 이 URL을 인터셉트하도록 설정해야 함
FRONTEND_URL="http://localhost:3001"

# CORS 설정 (선택 사항, 기본값: localhost:3000, localhost:3001, Netlify 프로덕션)
# 여러 origin을 쉼표로 구분하여 설정 가능
# CORS_ORIGINS="http://localhost:3000,http://localhost:3001,https://family-planner-web.netlify.app"

# Google OAuth 설정
# Google Cloud Console에서 OAuth 2.0 클라이언트 ID 생성: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"

# Kakao OAuth 설정
# Kakao Developers에서 애플리케이션 생성: https://developers.kakao.com/console/app
KAKAO_CLIENT_ID="your-kakao-rest-api-key"
KAKAO_CLIENT_SECRET=""  # Kakao는 선택적, 비워둘 수 있음
KAKAO_CALLBACK_URL="http://localhost:3000/auth/kakao/callback"

# 로그 설정
# 로그 레벨: error, warn, info, http, verbose, debug, silly
# 개발: debug 또는 info, 프로덕션: warn 또는 error 권장
LOG_LEVEL="info"

# Axiom 로그 전송 설정 (프로덕션 환경)
# Axiom 대시보드: https://app.axiom.co/
# 1. Axiom 계정 생성 및 로그인
# 2. Settings > API Tokens에서 Ingest Token 생성
# 3. 생성된 토큰과 Dataset 이름을 아래에 입력
AXIOM_TOKEN="your-axiom-api-token"
AXIOM_DATASET="family-planner"

# Sentry 에러 추적 설정 (프로덕션 환경)
# Sentry 대시보드: https://sentry.io/
# 1. Sentry 계정 생성 및 프로젝트 생성
# 2. Settings > Projects > [프로젝트명] > Client Keys (DSN)에서 DSN 복사
# 3. 생성된 DSN을 아래에 입력
SENTRY_DSN="your-sentry-dsn"
# Sentry 트레이스 샘플링 비율 (0.0 ~ 1.0, 기본값: 0.1 = 10%)
SENTRY_TRACES_SAMPLE_RATE="0.1"

# Cloudflare R2 파일 스토리지 설정
# Cloudflare 대시보드: https://dash.cloudflare.com/
# 1. R2 > Create bucket 또는 기존 버킷 선택
# 2. Settings > R2 API Tokens > Create API Token
# 3. Account ID는 대시보드 URL에서 확인 가능 (dash.cloudflare.com/{account_id}/r2)
R2_ACCOUNT_ID="your-cloudflare-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key-id"
R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
R2_BUCKET_NAME="family-planner"
# Custom domain (선택 사항): R2 버킷에 커스텀 도메인을 연결한 경우
# 예: https://files.yourdomain.com
R2_PUBLIC_URL="https://your-custom-domain.com"
